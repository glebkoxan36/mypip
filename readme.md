# Node Manager - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö –Ω–æ–¥

## üåü –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Nownodes
- –ï–¥–∏–Ω—ã–π API –∫–ª—é—á –¥–ª—è –≤—Å–µ—Ö –º–æ–Ω–µ—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Blockbook –∏ RPC API
- WebSocket –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Litecoin (LTC), Dogecoin (DOGE), Bitcoin (BTC)
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –ª—é–±—É—é –¥—Ä—É–≥—É—é –º–æ–Ω–µ—Ç—É

### ‚úÖ –í–µ–±-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- Live-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ –±–ª–æ–∫–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–¥–∞–º–∏ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–Ω–ª–∞–π–Ω
- –ì—Ä–∞—Ñ–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –º–∞—Å—Ç–µ—Ä-–∞–¥—Ä–µ—Å
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–æ–≤
- –û—Ç–ø–∏—Å–∫–∞ –æ—Ç –∞–¥—Ä–µ—Å–æ–≤ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∞

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –∞–¥—Ä–µ—Å–æ–≤
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è API
- Rate limiting –∏ CORS

### ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ YAML/JSON
- –ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –±–æ—Ç–æ–≤
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞ 30 —Å–µ–∫—É–Ω–¥:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–æ–¥—É–ª—å
pip install git+https://github.com/glebkoxan36/node-manager.git

# –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
node-manager init

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–µ–±-–ø–∞–Ω–µ–ª—å
node-manager-web --username admin
–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –±–æ—Ç:
python
import asyncio
from node_manager import NodeManager

async def main():
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –µ–¥–∏–Ω—ã–º API –∫–ª—é—á–æ–º
    manager = NodeManager()
    
    # –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–¥—ã Litecoin
    ltc_node = await manager.get_node("LTC")
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
    balance = await ltc_node.get_balance("ltc1q...")
    print(f"–ë–∞–ª–∞–Ω—Å: {balance['total']} LTC")
    
    # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–¥—Ä–µ—Å–∞
    await manager.monitor_address("LTC", "ltc1q...")
    
    # –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞
    await manager.start_auto_collection()

asyncio.run(main())
–í–µ–±-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
bash
# –ó–∞–ø—É—Å–∫ –≤–µ–±-–ø–∞–Ω–µ–ª–∏
node-manager-web --host 0.0.0.0 --port 8080 --username admin

# –î–æ—Å—Ç—É–ø –ø–æ –∞–¥—Ä–µ—Å—É:
# http://–≤–∞—à-ip-–∞–¥—Ä–µ—Å:8080
üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–°–ø–æ—Å–æ–± 1: –ò–∑ GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
bash
# –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è –∏–∑ main –≤–µ—Ç–∫–∏
pip install git+https://github.com/glebkoxan36/node-manager.git
–°–ø–æ—Å–æ–± 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/glebkoxan36/node-manager.git
cd node-manager

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
pip install -e .
–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–ú–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç:

aiohttp>=3.8.0 - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã

websockets>=11.0.0 - WebSocket –∫–ª–∏–µ–Ω—Ç

PyYAML>=6.0 - –†–∞–±–æ—Ç–∞ —Å YAML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

python-dotenv>=1.0.0 - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

bip-utils>=2.7.0 - –í–∞–ª–∏–¥–∞—Ü–∏—è –∞–¥—Ä–µ—Å–æ–≤

aiogram>=2.25.0 - Telegram –±–æ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

bcrypt>=4.0.0 - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π

pyjwt>=2.0.0 - JWT —Ç–æ–∫–µ–Ω—ã

psutil>=5.9.0 - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã

aiohttp_cors>=0.7.0 - CORS –ø–æ–¥–¥–µ—Ä–∂–∫–∞

üåê –í–µ–±-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
–ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –≤–µ–±-–ø–∞–Ω–µ–ª–∏:
bash
# –ó–∞–ø—É—Å–∫ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
node-manager-web --username admin --password –≤–∞—à_–ø–∞—Ä–æ–ª—å

# –ó–∞–ø—É—Å–∫ –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤)
node-manager-web --no-auth

# –ó–∞–ø—É—Å–∫ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
node-manager-web --host 192.168.1.100 --port 9090 --username admin
–î–æ—Å—Ç—É–ø –∫ –≤–µ–±-–ø–∞–Ω–µ–ª–∏:
–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://–≤–∞—à-ip-–∞–¥—Ä–µ—Å:8080

–í–æ–π–¥–∏—Ç–µ —Å –ª–æ–≥–∏–Ω–æ–º/–ø–∞—Ä–æ–ª–µ–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: admin/admin)

–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤—Å–µ–º–∏ –Ω–æ–¥–∞–º–∏ —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–µ–±-–ø–∞–Ω–µ–ª–∏:
üìä –î–∞—à–±–æ—Ä–¥ - –û–±–∑–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö –Ω–æ–¥, –≥—Ä–∞—Ñ–∏–∫–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

üîå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–¥–∞–º–∏ - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–ª–æ–∫—á–µ–π–Ω–µ

üëÅÔ∏è Live-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –Ω–æ–≤—ã–µ –±–ª–æ–∫–∏

üí∞ –°–±–æ—Ä —Å—Ä–µ–¥—Å—Ç–≤ - –†—É—á–Ω–æ–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä

‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

üìù –õ–æ–≥–∏ - –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, HTTPS, CORS

REST API:
bash
# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
curl -X POST http://localhost:8080/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"–≤–∞—à_–ø–∞—Ä–æ–ª—å"}'

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:8080/api/v1/status

# –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:8080/api/v1/nodes/LTC/balance/ltc1q...

# WebSocket –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
ws://localhost:8080/api/v1/ws
‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
bash
# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
cat > .env << EOL
# –ï–¥–∏–Ω—ã–π API –∫–ª—é—á Nownodes –¥–ª—è –≤—Å–µ—Ö –º–æ–Ω–µ—Ç
NOWNODES_API_KEY=–≤–∞—à_api_–∫–ª—é—á_–æ—Ç_nownodes

# –ú–∞—Å—Ç–µ—Ä-–∞–¥—Ä–µ—Å–∞ –¥–ª—è —Å–±–æ—Ä–∞ —Å—Ä–µ–¥—Å—Ç–≤
LTC_MASTER_ADDRESS=ltc1q–≤–∞—à_–º–∞—Å—Ç–µ—Ä_–∞–¥—Ä–µ—Å
DOGE_MASTER_ADDRESS=D–≤–∞—à_–º–∞—Å—Ç–µ—Ä_–∞–¥—Ä–µ—Å
BTC_MASTER_ADDRESS=bc1q–≤–∞—à_–º–∞—Å—Ç–µ—Ä_–∞–¥—Ä–µ—Å

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ–±-–ø–∞–Ω–µ–ª–∏
NODE_MANAGER_ADMIN_USERNAME=admin
NODE_MANAGER_ADMIN_PASSWORD=–≤–∞—à_—Å–ª–æ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å
NODE_MANAGER_JWT_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
LOG_LEVEL=INFO
DB_PATH=node_data.db
EOL
–®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–∞
node-manager init
–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ node_config.yaml –≤—Ä—É—á–Ω—É—é:

yaml
# node_config.yaml
nownodes:
  api_key: "${NOWNODES_API_KEY}"  # –ï–¥–∏–Ω—ã–π –∫–ª—é—á –∏–∑ .env —Ñ–∞–π–ª–∞
  timeout: 30
  max_retries: 3

coins:
  LTC:
    enabled: true
    blockbook_url: "https://ltcbook.nownodes.io"
    rpc_url: "https://ltc.nownodes.io"
    network: "mainnet"
    master_address: "${LTC_MASTER_ADDRESS}"
    min_collection_amount: 0.001
    collection_fee: 0.0001
    required_confirmations: 3
    
  DOGE:
    enabled: true
    blockbook_url: "https://dogebook.nownodes.io"
    rpc_url: "https://doge.nownodes.io"
    network: "mainnet"
    master_address: "${DOGE_MASTER_ADDRESS}"
    min_collection_amount: 10.0
    collection_fee: 1.0
    required_confirmations: 6

# –í–µ–±-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
web_server:
  enabled: true
  host: "0.0.0.0"
  port: 8080
  api_prefix: "/api/v1"
  enable_web_ui: true
  enable_api: true
  allow_cors: true
  session_timeout: 3600
  rate_limit: 100

# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
auth:
  enabled: true
  admin_username: "${NODE_MANAGER_ADMIN_USERNAME}"
  admin_password_hash: "${NODE_MANAGER_ADMIN_PASSWORD_HASH}"
  jwt_secret: "${NODE_MANAGER_JWT_SECRET}"
  jwt_algorithm: "HS256"

services:
  monitoring:
    enabled: true
    check_interval: 1800  # 30 –º–∏–Ω—É—Ç
    
  collection:
    enabled: true
    auto_start: true
–®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
bash
# –ó–∞–ø—É—Å–∫ –≤–µ–±-–ø–∞–Ω–µ–ª–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
node-manager-web

# –ò–ª–∏ –∑–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –±—ç–∫–µ–Ω–¥–∞
python your_bot.py
üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è:
text
node_manager/
‚îú‚îÄ‚îÄ __init__.py              # –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Å–ø–æ—Ä—Ç
‚îú‚îÄ‚îÄ node_manager.py          # –ì–ª–∞–≤–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
‚îú‚îÄ‚îÄ node_config.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ cli.py                  # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ core/                   # –Ø–¥—Ä–æ –º–æ–¥—É–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ base_node.py       # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –Ω–æ–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ node_factory.py    # –§–∞–±—Ä–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ litecoin.py       # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Litecoin
‚îÇ   ‚îú‚îÄ‚îÄ dogecoin.py       # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Dogecoin
‚îÇ   ‚îî‚îÄ‚îÄ bitcoin.py        # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Bitcoin
‚îú‚îÄ‚îÄ web/                    # –í–µ–±-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ server.py         # –í–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ API
‚îÇ   ‚îú‚îÄ‚îÄ static/           # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ templates/        # HTML —à–∞–±–ª–æ–Ω—ã
‚îú‚îÄ‚îÄ api/                   # –ö–ª–∏–µ–Ω—Ç—ã API
‚îÇ   ‚îú‚îÄ‚îÄ rpc.py            # RPC –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ blockbook.py      # Blockbook API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ websocket.py      # WebSocket –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ services/              # –°–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ monitor.py        # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ collector.py      # –°–±–æ—Ä —Å—Ä–µ–¥—Å—Ç–≤
‚îÇ   ‚îî‚îÄ‚îÄ manager.py        # –û—Å–Ω–æ–≤–Ω–æ–π –º–µ–Ω–µ–¥–∂–µ—Ä
‚îî‚îÄ‚îÄ utils/                 # –£—Ç–∏–ª–∏—Ç—ã
    ‚îú‚îÄ‚îÄ config.py         # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤
    ‚îú‚îÄ‚îÄ exceptions.py     # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
    ‚îî‚îÄ‚îÄ validators.py     # –í–∞–ª–∏–¥–∞—Ü–∏—è –∞–¥—Ä–µ—Å–æ–≤
–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
text
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –í–µ–±-–ø–∞–Ω–µ–ª—å    ‚îÇ    ‚îÇ   REST API      ‚îÇ    ‚îÇ   Telegram Bot  ‚îÇ
‚îÇ   (–ë—Ä–∞—É–∑–µ—Ä)     ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (aiohttp)     ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (aiogram)     ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   NodeManager   ‚îÇ    ‚îÇ   NodeConfig    ‚îÇ    ‚îÇ   –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥    ‚îÇ
‚îÇ                 ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ                 ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ                 ‚îÇ
‚îÇ  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ   ‚îÇ    ‚îÇ  - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚îÇ    ‚îÇ  - WebSocket    ‚îÇ
‚îÇ  - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è  ‚îÇ    ‚îÇ  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏    ‚îÇ    ‚îÇ  - –û–ø–æ–≤–µ—â–µ–Ω–∏—è   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ
        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   BaseNode      ‚îÇ    ‚îÇ    Nownodes     ‚îÇ
‚îÇ                 ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ      API        ‚îÇ
‚îÇ  - –ë–∞–ª–∞–Ω—Å—ã      ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ  - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏   ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ  - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
üì° API Reference
NodeManager
–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ –Ω–æ–¥–∞–º–∏.

python
from node_manager import NodeManager

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
manager = NodeManager(
    config_path="node_config.yaml",  # –ü—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    api_key="–≤–∞—à_–∫–ª—é—á"               # API –∫–ª—é—á (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –µ—Å—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥–µ)
)

# –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã
await manager.get_node("LTC")                    # –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–¥—É
await manager.start_monitoring("LTC", callback)  # –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
await manager.monitor_address("LTC", "–∞–¥—Ä–µ—Å")   # –î–æ–±–∞–≤–∏—Ç—å –∞–¥—Ä–µ—Å –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
await manager.create_collector("LTC", ...)      # –°–æ–∑–¥–∞—Ç—å —Å–±–æ—Ä—â–∏–∫
await manager.start_auto_collection()           # –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ—Å–±–æ—Ä
await manager.stop()                            # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
await manager.get_stats()                       # –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
–í–µ–±-API (REST)
–ú–µ—Ç–æ–¥	–ü—É—Ç—å	–û–ø–∏—Å–∞–Ω–∏–µ
POST	/api/v1/auth/login	–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
GET	/api/v1/status	–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
GET	/api/v1/nodes	–°–ø–∏—Å–æ–∫ –Ω–æ–¥
POST	/api/v1/nodes/{coin}/connect	–ü–æ–¥–∫–ª—é—á–∏—Ç—å –Ω–æ–¥—É
GET	/api/v1/nodes/{coin}/balance/{address}	–ë–∞–ª–∞–Ω—Å –∞–¥—Ä–µ—Å–∞
POST	/api/v1/monitoring/start	–ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
GET	/api/v1/ws	WebSocket –¥–ª—è real-time
ü§ñ –ü—Ä–∏–º–µ—Ä—ã
–ü—Ä–∏–º–µ—Ä 1: –í–µ–±-–ø–∞–Ω–µ–ª—å —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
python
# run_web.py
import asyncio
from node_manager.web.server import start_web_server

async def main():
    # –ó–∞–ø—É—Å–∫ –≤–µ–±-–ø–∞–Ω–µ–ª–∏ –Ω–∞ –ø–æ—Ä—Ç—É 8080
    server = await start_web_server(
        config={
            'host': '0.0.0.0',
            'port': 8080,
            'auth_enabled': True,
            'admin_username': 'admin',
            'admin_password': 'secure_password_123'
        }
    )
    
    print(f"–í–µ–±-–ø–∞–Ω–µ–ª—å –∑–∞–ø—É—â–µ–Ω–∞: http://0.0.0.0:8080")
    print(f"–õ–æ–≥–∏–Ω: admin")
    print(f"–ü–∞—Ä–æ–ª—å: secure_password_123")
    
    # –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª
    while True:
        await asyncio.sleep(1)

asyncio.run(main())
–ü—Ä–∏–º–µ—Ä 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –±–æ—Ç–æ–º
python
# telegram_bot.py
import asyncio
from aiogram import Bot, Dispatcher, types
from node_manager import NodeManager

bot = Bot(token="–í–ê–®_TELEGRAM_TOKEN")
dp = Dispatcher(bot)
manager = NodeManager()

@dp.message_handler(commands=['status'])
async def cmd_status(message: types.Message):
    stats = await manager.get_stats()
    
    text = "üìä –°—Ç–∞—Ç—É—Å –Ω–æ–¥:\n\n"
    for coin, info in stats['nodes'].items():
        status = "‚úÖ" if info['connected'] else "‚ùå"
        text += f"{status} {coin}: "
        if info['connected']:
            text += f"–ë–ª–æ–∫ {info['block_height']}\n"
        else:
            text += f"–û—à–∏–±–∫–∞\n"
    
    await message.answer(text)

@dp.message_handler(commands=['balance'])
async def cmd_balance(message: types.Message):
    args = message.get_args().split()
    if len(args) != 2:
        await message.answer("–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: /balance LTC ltc1q...")
        return
    
    coin, address = args[0], args[1]
    node = await manager.get_node(coin)
    balance = await node.get_balance(address)
    
    await message.answer(f"–ë–∞–ª–∞–Ω—Å: {balance['total']} {coin}")

async def main():
    # –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    await manager.start_monitoring_for_all(
        lambda coin, data: handle_transaction(coin, data)
    )
    
    # –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
    await dp.start_polling()

async def handle_transaction(coin, data):
    """–û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram"""
    if data.get('type') == 'transaction':
        tx = data.get('transaction', {})
        await bot.send_message(
            chat_id=ADMIN_CHAT_ID,
            text=f"üí∞ –ù–æ–≤–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è {coin}:\n"
                 f"TXID: {tx.get('txid')[:20]}...\n"
                 f"–°—É–º–º–∞: {tx.get('amount', 0):.8f}"
        )

asyncio.run(main())
–ü—Ä–∏–º–µ—Ä 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
html
<!-- custom_dashboard.html -->
<!DOCTYPE html>
<html>
<head>
    <title>–ú–æ–π Node Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–æ–¥</h1>
    
    <div id="nodes"></div>
    <canvas id="blockChart" width="400" height="200"></canvas>
    
    <script>
        let token = localStorage.getItem('token');
        
        async function login() {
            const res = await fetch('/api/v1/auth/login', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    username: 'admin',
                    password: '–≤–∞—à_–ø–∞—Ä–æ–ª—å'
                })
            });
            
            const data = await res.json();
            token = data.token;
            localStorage.setItem('token', token);
        }
        
        async function loadNodes() {
            const res = await fetch('/api/v1/nodes', {
                headers: {'Authorization': `Bearer ${token}`}
            });
            
            const nodes = await res.json();
            renderNodes(nodes);
        }
        
        function renderNodes(nodes) {
            const container = document.getElementById('nodes');
            container.innerHTML = nodes.map(node => `
                <div class="node">
                    <h3>${node.coin}</h3>
                    <p>–°—Ç–∞—Ç—É—Å: ${node.connected ? '‚úÖ' : '‚ùå'}</p>
                    <p>–ë–ª–æ–∫–æ–≤: ${node.block_height || 0}</p>
                </div>
            `).join('');
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
        setInterval(loadNodes, 10000);
        
        // –ó–∞–ø—É—Å–∫
        login().then(loadNodes);
    </script>
</body>
</html>
üîß –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Ubuntu 20.04/22.04:
bash
# 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∏ pip
sudo apt install python3.9 python3-pip python3-venv -y

# 3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
sudo adduser node-manager
sudo usermod -aG sudo node-manager
su - node-manager

# 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node Manager
git clone https://github.com/glebkoxan36/node-manager.git
cd node-manager
python3 -m venv venv
source venv/bin/activate
pip install -e .

# 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
node-manager init
nano .env  # –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

# 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd —Å–µ—Ä–≤–∏—Å–∞
sudo nano /etc/systemd/system/node-manager-web.service
Systemd —Å–µ—Ä–≤–∏—Å:
ini
[Unit]
Description=Node Manager Web Server
After=network.target

[Service]
Type=simple
User=node-manager
WorkingDirectory=/home/node-manager/node-manager
Environment="PATH=/home/node-manager/node-manager/venv/bin"
Environment="NODE_MANAGER_ADMIN_PASSWORD=–≤–∞—à_—Å–ª–æ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å"
ExecStart=/home/node-manager/node-manager/venv/bin/node-manager-web \
  --host 0.0.0.0 \
  --port 8080 \
  --username admin
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –¥–ª—è HTTPS:
nginx
# /etc/nginx/sites-available/node-manager
server {
    listen 80;
    server_name –≤–∞—à-–¥–æ–º–µ–Ω.ru;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name –≤–∞—à-–¥–æ–º–µ–Ω.ru;
    
    ssl_certificate /etc/letsencrypt/live/–≤–∞—à-–¥–æ–º–µ–Ω.ru/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/–≤–∞—à-–¥–æ–º–µ–Ω.ru/privkey.pem;
    
    location / {
        proxy_pass http://127.0.0.1:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞:
bash
# –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ—Ä—Ç—ã
sudo ufw allow 22/tcp
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw enable

# –ü—Ä–æ–≤–µ—Ä—è–µ–º
sudo ufw status
üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
bash
# –õ–æ–≥–∏ systemd —Å–µ—Ä–≤–∏—Å–∞
sudo journalctl -u node-manager-web -f

# –§–∞–π–ª–æ–≤—ã–µ –ª–æ–≥–∏
tail -f node_manager.log

# –ß–µ—Ä–µ–∑ –≤–µ–±-–ø–∞–Ω–µ–ª—å
http://–≤–∞—à-—Å–µ—Ä–≤–µ—Ä:8080/logs
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Prometheus:
python
# prometheus_exporter.py
from prometheus_client import start_http_server, Gauge, Counter
import asyncio
from node_manager import NodeManager

NODE_BLOCK_HEIGHT = Gauge('node_block_height', 'Block height', ['coin'])
NODE_CONNECTIONS = Gauge('node_connections', 'Connections status', ['coin'])

async def export_metrics():
    manager = NodeManager()
    start_http_server(9090)
    
    while True:
        stats = await manager.get_stats()
        
        for coin, info in stats['nodes'].items():
            NODE_CONNECTIONS.labels(coin=coin).set(1 if info['connected'] else 0)
            if info.get('block_height'):
                NODE_BLOCK_HEIGHT.labels(coin=coin).set(info['block_height'])
        
        await asyncio.sleep(30)

asyncio.run(export_metrics())
–ì—Ä–∞—Ñ–∏–∫–∏ –≤ Grafana:
–î–æ–±–∞–≤—å—Ç–µ Prometheus –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö

–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞—à–±–æ—Ä–¥ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏:

–í—ã—Å–æ—Ç–∞ –±–ª–æ–∫–æ–≤ –ø–æ –º–æ–Ω–µ—Ç–∞–º

–°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ CPU

üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

–ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ (12+ —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã)

–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –ø–æ IP –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞

–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
bash
# .env.production
NOWNODES_API_KEY=your_production_key_here
NODE_MANAGER_ADMIN_PASSWORD=$(openssl rand -base64 32)
NODE_MANAGER_JWT_SECRET=$(openssl rand -base64 64)
LTC_MASTER_ADDRESS=ltc1qproduction_address
üõ†Ô∏è –û—Ç–ª–∞–¥–∫–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–æ–¥
node-manager test

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –Ω–æ–¥—ã
node-manager test --coin LTC

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
node-manager status
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
python
import logging

# –í–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    level=logging.DEBUG,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('debug.log'),
        logging.StreamHandler()
    ]
)
–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:
"API key not found" - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

"Connection timeout" - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Nownodes

"Invalid address" - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –∫—Ä–∏–ø—Ç–æ-–∞–¥—Ä–µ—Å–∞

"Web server not starting" - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –∑–∞–Ω—è—Ç –ª–∏ –ø–æ—Ä—Ç 8080

"Authentication failed" - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –≤ .env —Ñ–∞–π–ª–µ

ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
bash
git clone https://github.com/glebkoxan36/node-manager.git
cd node-manager
python -m venv venv
source venv/bin/activate
pip install -e ".[dev]"
–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
bash
pytest tests/ -v
pytest tests/ --cov=node_manager --cov-report=html
tox
–°—Ç–∏–ª—å –∫–æ–¥–∞:
bash
black node_manager/
flake8 node_manager/
mypy node_manager/
isort node_manager/
